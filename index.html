<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>我去修管理后台 - woquxiu.cn</title>
  <link rel="stylesheet" type="text/css" href="ivue/styles/iview.css">
  <script type="text/javascript" src="ivue/vue.min.js"></script>
  <script type="text/javascript" src="ivue/iview.min.js"></script>
  <script type="text/javascript" src="scripts/echarts.js"></script>
  <style>
  html,body{
    height: 100%;
    
}
[v-cloak] {
        display: none;
    }
.layout-logo{
    width: 100px;
    height: 30px;
    background-image: url(images/wqxmp.png);
    float: left;
    position: relative;
    top: 15px;
    left: 20px;
}
.layout-nav{
    width: 210px;
    margin: 0 auto;
    margin-right: 20px;
}
</style>
</head>
<body>    
    <div v-cloak class="app" id="app">
        <div class="layout">
            <layout>
                <i-header>
                    <i-menu mode="horizontal" theme="dark" active-name="1">
                        <div class="layout-logo"></div>
                        <div class="layout-nav">
                            <menu-item name="1">
                                <icon type="ios-bell"></icon>
                                消息
                            </menu-item>
                            <menu-item name="2">
                                <icon type="ios-person"></icon>
                                个人中心
                            </menu-item>      
                        </div>
                    </i-menu>
                </i-header>
                <layout>
                    <sider hide-trigger :style="{background: '#FFF'}">

                        <i-menu active-name="1-1" theme="light" width="auto" :open-names="['1']" @on-select="selectsubmenu">
                            <submenu name="1">
                                <template slot="title">
                                    <Icon type="document-text"></Icon>
                                    维护单信息管理
                                </template>
                                <menu-item name="1-1">维护单管理</menu-item>
                                <menu-item name="1-2">维护单查询</menu-item>
                                <menu-item name="1-3">报障信息管理</menu-item>
                            </submenu>
                            <submenu name="2">
                                <template slot="title">
                                    <Icon type="person-stalker"></Icon>
                                    人员信息管理
                                </template>
                                <menu-item name="2-1">维护人员管理</menu-item>
                                <menu-item name="2-2">维护人员工资管理</menu-item>
                                <menu-item name="2-3">系统操作员</menu-item>			
                            </submenu>
                            <submenu name="3">
                                <template slot="title">
                                    <Icon type="network"></Icon>
                                    机构信息管理
                                </template>
                                <menu-item name="3-1">气象局信息管理</menu-item>
                                <menu-item name="3-2">自动站产品管理</menu-item>
                                <menu-item name="3-3">气象观测要素定义</menu-item>
                                <menu-item name="3-4">气象设备型号定义</menu-item>
                                <menu-item name="3-5">维护公司信息管理</menu-item>
                            </submenu>
                            <submenu name="4">
                                <template slot="title">
                                    <Icon type="calculator"></Icon>
                                    系统信息管理
                                </template>
                                <menu-item name="4-1">气象设备信息</menu-item>
                                <menu-item name="4-2">维护/巡检信息</menu-item>
                                <menu-item name="4-3">维护人员信息</menu-item>
                                <menu-item name="4-4">工资/奖惩/付款信息</menu-item>
                                <menu-item name="4-5">工资/奖惩/付款信息</menu-item>
                                <menu-item name="4-6">报障/反馈/地图信息</menu-item>
                            </submenu>
                        </i-menu>
                    </sider>
                    <layout>
                        <i-content :style="{padding: '5px', minHeight: minH + 'px', background: '#fff'}">
                            <iframe id="content" src="./html/page1-1.html" frameborder="no" width="100%" height="865px"></iframe>
                </i-content>
            </layout>
        </layout>
    </layout>
</div>
</div>
<script>

    var Main = {
        data: function () {
            return {
                minH:document.body.clientHeight-157,
                
            }
        },

        //动态变更内容区大小
        mounted: function () {
            const that = this
            window.onresize = function(){
                that.minH = document.body.clientHeight-157
                
            }
        },
        methods:{
            selectsubmenu(name){
                console.log(name)  
                    document.getElementById('content').setAttribute("src","./html/page"+name+".html")
            }
        }
    }

    var Component = Vue.extend(Main)
    new Component().$mount('#app')
    
</script>
</body>
</html>