<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>系统操作人员管理</title>
<link rel="stylesheet" type="text/css" href="../ivue/styles/iview.css">
<script type="text/javascript" src="../ivue/vue.min.js"></script>
<script type="text/javascript" src="../ivue/iview.js"></script>
</head>
<body>
	<div id="main"></div>

	<script  type="text/javascript">
		var maindata={
			template:`<div><Row><Col :lg="4" :sm="8">
		<div style="background:#eee;padding: 10px" >
        <Card shadow :bordered="false">
        <div style="height:400px">
            <p slot="title">机构选择</p>
            <p><Tree ref="orgtree" :data="treedata" @on-check-change="showcheckednodes" show-checkbox></Tree></p></div>
        </Card>
        </div>
        </Col>
        <Col :lg="20" :sm="16">
		<div style="background:#eee;padding: 10px">
        <Form :model="querydata" :label-width="80" label-position="left" inline>
        <Row>
        <Col span="8">
			<FormItem prop="userID" label="用户编码"><Input type="text" v-model="querydata.userID" placeholder=""></Input></FormItem></Col>
			<Col span="8"><FormItem prop="userPID" label="身份证号"><Input type="text" v-model="querydata.userPID" placeholder=""></Input></FormItem></Col>
			<Col span="8"><FormItem prop="mobile" label="手机号码"><Input type="text" v-model="querydata.mobile" placeholder=""></Input></FormItem></Col></Row>
			<Row>
        <Col span="8"><FormItem prop="name" label="姓名"><Input type="text" v-model="querydata.name" placeholder=""></Input></FormItem></Col>
			<Col span="6"><FormItem prop="oplevel" label="操作级别"><Select v-model="querydata.oplevel" width="100%">
                        <Option v-for="item in oplevellist" :value="item.value" :key="item.value">{{ item.label }}</Option>
                    </Select></FormItem></Col>
			<Col span="2" offset="2"><Button type="primary" @click="submit(querydata)">查询</Button></Col>
		</Form>
        <div width=100%><Table border stripe :columns="columns" highlight-row :data="tabledata" min-width="600px" height="318"></Table>
        </div>
        </div></Col></Row></div>
        `,
			data(){
				return{
					querydata:{
						organization:"",
						userID:"",
						userPID:"",
						mobile:"",
						name:"",
						oplevel:""
					},
                    oplevellist:[
                    {value:"1",label:"一级"},
                    {value:"2",label:"二级"},
                    {value:"3",label:"三级"},
                    {value:"4",label:"四级"},
                    ],
                    columns:[
                    {title:"序号",key:"No"},
                    {title:"用户编码",key:"userID"},
                    {title:"身份证号",key:"userPID"},
                    {title:"姓名",key:"name"},
                    {title:"手机号码",key:"mobile"},
                    {title:"操作级别",key:"oplevel"},
                    {title:"微信",key:"wxid"},
                    ],
                    tabledata:[{},{},{},{},{},{},{},{},{}],
                    userdata:{
                        userID:"",
                        userPID:"",
                        mobile:"",
                        name:"",
                        password:"",
                        oplevel:"",
                        wxid:""
                    },
					treedata:[
                    {
                        title: 'parent 1',
                        expand: true,
                        children: [
                            {
                                title: 'parent 1-1',
                                expand: true,
                                children: [
                                    {
                                        title: 'leaf 1-1-1'
                                    },
                                    {
                                        title: 'leaf 1-1-2',
                                        checked:true
                                    }
                                ]
                            },
                            {
                                title: 'parent 1-2',
                                expand: true,
                                children: [
                                    {
                                        title: 'leaf 1-2-1'
                                    },
                                    {
                                        title: 'leaf 1-2-1'
                                    }
                                ]
                            }
                        ]
                    }
                ]
				}
			},
			methods:{
				showcheckednodes(){
					console.log(this.$refs.orgtree.getCheckedNodes())
				},
                submit(data){
                    console.log(data)
                },
                newdata(){
                    console.log("create new operator")
                }
			}
		}
		var MainModule = Vue.extend(maindata)
		new MainModule().$mount('#main')
	</script>
</body>
</html>